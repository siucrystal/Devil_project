<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.daily.mapper.FoodMapper">
	<!-- 리스트 -->
	<select id="getFoodList" parameterType="java.util.HashMap" resultType="foodDTO" >
        <![CDATA[
        select * from food 
        where category like CONCAT('%',#{category},'%') 
        and name like CONCAT('%',#{name},'%') 
        limit #{start}, #{limit} ;       
        ]]>
	</select>
	
	<select id="boardCount" parameterType="pageDTO" resultType="Integer">
        <![CDATA[
        select count(*) from food 
        where category like CONCAT('%',#{category},'%') 
        and name like CONCAT('%',#{name},'%') ;       
        ]]>
	</select>
	
	<select id="getCategory" resultType="FoodDTO">
        <![CDATA[
        select category from food group by category;       
        ]]>
	</select>
	
	<!-- 음식 담기 -->
	
	<select id="getFoodOne" parameterType="int" resultType="foodDTO">
        <![CDATA[
        select * from food where idx = #{idx};       
        ]]>
	</select>

	<insert id="setMyFoodList" parameterType="java.util.HashMap" >
        <![CDATA[
        insert into allfood(member_id)
        ]]>
	</insert>


</mapper>